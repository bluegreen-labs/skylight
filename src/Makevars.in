# C objects
C_OBJS = wrappersc.o

# Fortran objects: refer to file names <name.o>,
# order reflects dependency structure
FT_OBJS = subroutines.o skylight.o

all: $(SHLIB) clean

$(SHLIB): $(FT_OBJS) $(C_OBJS)

# Dependency of objects (?)
# <name.o>: <modulename.o>
skylight.o: subroutines.o subroutines.mod

# Source (object) of Fortran modules
# <modulename.mod>: <filename.o>
subroutines.mod: subroutines.o
skylight_r_mod.mod: skylight.o

# Dependency of the C wrapper
wrappersc.o: skylight_r_mod.mod

clean:
	@rm -rf *.mod *.o
